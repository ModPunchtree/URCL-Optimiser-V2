BITS 32
IMM R3 1
IMM R4 1
IMM R5 2
IMM R6 7
IMM R1 20
IMM R8 0
.R1_setup
OUT %X 0
OUT %Y R1
OUT %COLOR 247
ADD R1 R1 0xFFFFFFFF
BGE .R1_setup R1 15
.wall_setup
OUT %X 63
OUT %Y R8
OUT %COLOR 247
//OUT %X 0//
//OUT %COLOR 247//
ADD R8 R8 1
BGE .wall_setup 37 R8
.loop
IN R7 %GAMEPAD
//IMM R7 0//
NOR R7 R7 R7
NOR R8 R7 0xFFFFFFFE
BGE .not_w 0 R8
BGE .not_w R1 31
OUT %X 0
OUT %Y R1
OUT %COLOR 247
ADD R1 R1 6
OUT %X 0
OUT %Y R1
OUT %COLOR 0
ADD R1 R1 0xFFFFFFF9
.not_w
NOR R8 R7 0xFFFFFFF7
BGE .not_s 0 R8
BGE .yes_s R1 64
BGE .not_s R1 30
.yes_s
ADD R1 R1 1
OUT %X 0
OUT %Y R1
OUT %COLOR 0
ADD R1 R1 6
OUT %X 0
OUT %Y R1
OUT %COLOR 247
ADD R1 R1 0xFFFFFFFA
.not_s
OUT %X R5
OUT %Y R6
OUT %COLOR 0
BGE .not_over_y 35 R6
IMM R4 0xFFFFFFFF
.not_over_y
BGE .not_under_y R6 1
IMM R4 1
.not_under_y
BGE .not_over_x 61 R5//////////////////////////////
IMM R3 0xFFFFFFFF//////////////////////////////
.not_over_x/////////////////////////////
BGE .not_under_x R5 2
NOR R8 R1 R1
ADD R8 R8 R6
BGE .fail R8 6
IMM R3 1
.not_under_x
ADD R5 R5 R3
ADD R6 R6 R4
OUT %X R5
OUT %Y R6
OUT %COLOR 247
BGE .loop R8 0
.fail
BGE .fail R8 0